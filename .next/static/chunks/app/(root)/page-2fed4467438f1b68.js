(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{2634:()=>{},1622:(e,s,r)=>{Promise.resolve().then(r.bind(r,2617)),Promise.resolve().then(r.bind(r,918)),Promise.resolve().then(r.bind(r,1750))},4085:(e,s,r)=>{"use strict";r.d(s,{$:()=>o});var t=r(5155),a=r(2115),i=r(4707),l=r(652),n=r(9602),c=r(7594);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:o=!1,children:m,disabled:u,loading:x,...h}=e,p=o?i.DX:"button";return(0,t.jsx)(p,{disabled:u||x,className:(0,n.cn)(d({variant:a,size:l,className:r})),ref:s,...h,children:x?(0,t.jsx)(c.A,{className:"w-5 h-5 animate-spin"}):m})});o.displayName="Button"},2336:(e,s,r)=>{"use strict";r.d(s,{p:()=>l});var t=r(5155),a=r(2115),i=r(9602);let l=a.forwardRef((e,s)=>{let{className:r,type:a,...l}=e;return(0,t.jsx)("input",{type:a,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...l})});l.displayName="Input"},5786:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=r(2651).A.create({baseURL:"http://localhost:3000/api"})},9602:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(3463),a=r(9795);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},2617:(e,s,r)=>{"use strict";r.d(s,{Categories:()=>l});var t=r(5155);r(2115);var a=r(9602),i=r(7431);let l=e=>{let{className:s,categories:r}=e,{activeId:l}=(0,i.e)();return(0,t.jsx)("ul",{className:(0,a.cn)("inline-flex gap-1 bg-gray-50 p-1 rounded-sm",s),children:r.map(e=>(0,t.jsx)("a",{href:"/#".concat(e.id),className:(0,a.cn)("px-5 rounded-sm cursor-pointer",e.id===l?"bg-white text-orange-500 shadow-md":"bg-gray-200"),children:e.name},e.id))})}},918:(e,s,r)=>{"use strict";r.d(s,{Filters:()=>S});var t=r(5155),a=r(2115),i=r(6046),l=r(1973),n=r.n(l),c=r(9602),d=r(7501),o=r(2336),m=r(3301);function u(e){let{className:s,...r}=e;return(0,t.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",s),...r})}let x=a.forwardRef((e,s)=>{let{className:r,min:i,max:l,step:n,formatLabel:d,value:o,onValueChange:x,...h}=e,p=Array.isArray(o)?o:[i,l],[f,b]=a.useState(p),[g,v]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{b(Array.isArray(o)?o:[i,l])},[i,l,o]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{v(!1)},100);return()=>clearTimeout(e)},[]),g)?(0,t.jsx)(u,{className:"h-4 w-full"}):(0,t.jsxs)(m.bL,{ref:s,min:i,max:l,step:n,value:f,onValueChange:e=>{b(e),x&&x(e)},className:(0,c.cn)("relative flex w-full touch-none select-none mb-6 items-center",r),...h,children:[(0,t.jsx)(m.CC,{className:"relative h-1 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,t.jsx)(m.Q6,{className:"absolute h-full bg-primary"})}),f.map((e,s)=>(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)("div",{className:"absolute text-center",style:{left:"calc(".concat((e-i)/(l-i)*100,"% + 0px)"),top:"10px"},children:(0,t.jsx)("span",{className:"text-sm",children:d?d(e):e})}),(0,t.jsx)(m.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]},s))]})});x.displayName=m.bL.displayName;var h=r(7305),p=r(3565);a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(h.bL,{className:(0,c.cn)("grid gap-2",r),...a,ref:s})}).displayName=h.bL.displayName;let f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(h.q7,{ref:s,className:(0,c.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,t.jsx)(h.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"h-3.5 w-3.5 fill-primary"})})})});f.displayName=h.q7.displayName;var b=r(6195);let g=(0,r(652).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(b.b,{ref:s,className:(0,c.cn)(g(),r),...a})});v.displayName=b.b.displayName;var y=r(6352),N=r(8867);let j=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(y.bL,{ref:s,className:(0,c.cn)("peer h-4 w-4 shrink-0 bg-gray-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,t.jsx)(y.C1,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(N.A,{className:"h-4 w-4",strokeWidth:3})})})});j.displayName=y.bL.displayName;let w=(0,r(9827).v)(e=>({pizzaType:null,priceFrom:0,priceTo:1e3,ingredients:[],setPizzaType:s=>e({pizzaType:s}),setPriceFrom:s=>e({priceFrom:s}),setPriceTo:s=>e({priceTo:s}),setIngredients:s=>e({ingredients:s})})),k=e=>{let{text:s,value:r,endAdornment:a,name:i,className:l,handleIngredientChange:n}=e,{ingredients:d}=w(),o=d.includes(r);return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j,{onCheckedChange:n,checked:o,value:r,className:(0,c.cn)("rounded-[8px] w-6 h-6",l),id:"checkbox-".concat(String(i),"-").concat(String(r))}),(0,t.jsx)("label",{htmlFor:"checkbox-".concat(String(i),"-").concat(String(r)),className:"leading-none cursor-pointer flex-1",children:s}),a]})};var z=r(5786);let C=async()=>{try{return(await z.A.get("/ingredients")).data}catch(e){throw console.error("Error fetching data:",e),e}},A=e=>{let{className:s,initialLimit:r,handleIngredientChange:i}=e,[l,n]=(0,a.useState)(r),[d,o]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await C();x(e)}catch(e){console.error("Ошибка при получении данных:",e)}finally{p(!1)}})()},[]),(0,t.jsxs)("div",{className:(0,c.cn)("flex flex-col gap-2",s),children:[h?Array.from({length:r}).map((e,s)=>(0,t.jsx)(u,{className:"w-[225px] h-[20px] rounded-full"},s)):m.slice(0,l).map(e=>(0,t.jsx)(k,{text:e.name,value:String(e.id),handleIngredientChange:s=>i(String(e.id),s)},e.id)),!d&&l<m.length&&(0,t.jsx)("p",{className:"cursor-pointer text-primary",onClick:()=>{n(m.length),o(!0)},children:"Показать ещё..."}),d&&(0,t.jsx)("p",{className:"cursor-pointer text-primary",onClick:()=>{n(r),o(!1)},children:"Скрыть"})]})},S=e=>{let{className:s}=e,{pizzaType:r,setPizzaType:l,priceFrom:m,priceTo:u,setPriceFrom:p,setPriceTo:b,ingredients:g,setIngredients:y}=w(),N=(0,i.useRouter)(),j=(0,i.useSearchParams)();(0,a.useEffect)(()=>{let e=j.get("pizzaType"),s=j.get("ingredients"),r=j.get("minPrice"),t=j.get("maxPrice");e&&l(Number(e)),s&&y(s.split(",")),r&&p(Number(r)),t&&b(Number(t))},[j]);let k=(0,a.useMemo)(()=>null===r&&0===g.length&&0===m&&1e3===u?"":n().stringify({pizzaType:r,ingredients:g.join(","),minPrice:m,maxPrice:u}),[r,g,m,u]);return(0,a.useEffect)(()=>{N.push("?".concat(k),{scroll:!1})},[k]),(0,t.jsxs)("div",{className:(0,c.cn)(s),children:[(0,t.jsxs)("b",{children:[" ",(0,t.jsx)(d.h,{className:"mb-5",text:"Фильтрация",size:"lg"})]}),(0,t.jsxs)("div",{className:"mt-5 border-b border-y-neutral-100 py-6 mb-5",children:[(0,t.jsxs)("b",{children:[" ",(0,t.jsx)(d.h,{className:"mb-5",text:"Цена от и до:",size:"sm"})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-3 mb-5",children:[(0,t.jsx)(o.p,{type:"number",placeholder:"0",value:m,onChange:e=>{p(Number(e.target.value))}}),(0,t.jsx)(o.p,{type:"number",placeholder:"1000",value:u,onChange:e=>{b(Number(e.target.value))}})]}),(0,t.jsx)(x,{min:0,max:1e3,step:50,value:[m,u],onValueChange:e=>{p(e[0]),b(e[1])}})]}),(0,t.jsxs)("div",{className:"mt-5 py-3",children:[(0,t.jsxs)("b",{children:[" ",(0,t.jsx)(d.h,{className:"mb-5",text:"Ингредиенты",size:"sm"})]}),(0,t.jsx)(A,{initialLimit:4,handleIngredientChange:(e,s)=>{s?y([...g,e]):y(g.filter(s=>s!==e))}})]}),(0,t.jsxs)("div",{className:"mt-5 py-3",children:[(0,t.jsxs)("b",{children:[" ",(0,t.jsx)(d.h,{className:"mb-5",text:"Тип теста",size:"sm"})]}),(0,t.jsxs)(h.z6,{defaultValue:String(r),onValueChange:e=>{l(Number(e))},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)(f,{value:"1",id:"option-one",className:"h-5 w-5",checked:1===r}),(0,t.jsx)(v,{htmlFor:"option-one",className:"text-md",children:"Традиционное"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f,{value:"2",id:"option-two",className:"h-5 w-5",checked:2===r}),(0,t.jsx)(v,{htmlFor:"option-two",className:"text-md",children:"Тонкое"})]})]})]})]})}},1750:(e,s,r)=>{"use strict";r.d(s,{ProductList:()=>h});var t=r(5155),a=r(2115),i=r(9602),l=r(8173),n=r.n(l),c=r(7501),d=r(4085),o=r(3473);let m=e=>{let{id:s,name:r,price:a,imageUrl:i,className:l}=e;return(0,t.jsx)("div",{className:l,children:(0,t.jsxs)(n(),{href:"/product/".concat(s),children:[(0,t.jsx)("div",{className:"flex justify-center p-6 bg-secondary rounded-lg h-[260px]",children:(0,t.jsx)("img",{className:"w-[215px] h-[215px]",src:i,alt:r})}),(0,t.jsx)(c.h,{text:r,size:"sm",className:"mb-1 mt-3 font-bold"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Цыпленок, моцарелла, сыры чедер и пармезан"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsxs)("span",{className:"text-[20px]",children:["от ",(0,t.jsxs)("b",{children:[a," ₽"]})]}),(0,t.jsxs)(d.$,{variant:"secondary",className:"text-base font-bold",children:[(0,t.jsx)(o.A,{size:20,className:"mr-1"}),"Добавить"]})]})]})})};var u=r(3594),x=r(7431);let h=e=>{let{className:s,title:r,items:l,categoryId:n}=e,{setActiveId:d}=(0,x.e)(),o=a.useRef(null),h=(0,u.A)(o,{threshold:.4});return a.useEffect(()=>{(null==h?void 0:h.isIntersecting)&&d(n)},[null==h?void 0:h.isIntersecting,r,n]),(0,t.jsxs)("div",{className:"pb-[160px]",id:n,ref:o,children:[r&&(0,t.jsx)("b",{children:(0,t.jsx)(c.h,{text:r,size:"lg",className:"mb-4"})}),(0,t.jsx)("div",{className:(0,i.cn)("gap-5 grid grid-cols-3",s),children:l.map(e=>(0,t.jsx)(m,{id:e.id,name:e.name,imageUrl:e.imageUrl,price:e.items[0].price},e.id))})]})}},7501:(e,s,r)=>{"use strict";r.d(s,{h:()=>i});var t=r(3463),a=r(2115);let i=e=>{let{text:s,size:r="sm",className:i}=e;return a.createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[r],{className:(0,t.A)({xs:"text-[16px]",sm:"text-[22px]",md:"text-[26px]",lg:"text-[32px]",xl:"text-[40px]","2xl":"text-[48px]"}[r],i)},s)}},7431:(e,s,r)=>{"use strict";r.d(s,{e:()=>t});let t=(0,r(9827).v)()(e=>({activeId:1,setActiveId:s=>e({activeId:s})}))}},e=>{var s=s=>e(e.s=s);e.O(0,[359,173,36,441,517,977],()=>s(1622)),_N_E=e.O()}]);